var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))l.call(t,n)&&s(e,n,t[n]);return e};export function __vite_legacy_guard(){import("data:text/javascript,")}/* empty css                      */import{r as c,R as i,L as m,S as d,i as u,j as p,u as f,k as E,H as y,b as h}from"./vendor.a5ae8b09.js";import{A as v,_ as g,a as x,w as _,u as b,I as k,b as N,s as w,B as S,M as j,S as I,L as C,D as O,F as M,c as L}from"./antd.ff053a27.js";import{R as P,a as B,b as K,c as A,d as z}from"./recoil.3d42e3be.js";import{c as R}from"./classnames.ca41f454.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},D=function(e,t){return c.exports.createElement(v,g(g({},e),{},{ref:t,icon:V}))};D.displayName="WarningOutlined";var T=c.exports.forwardRef(D),F=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],H=c.exports.forwardRef((function(e,t){var n=e.className,r=e.component,a=e.viewBox,l=e.spin,s=e.rotate,o=e.tabIndex,i=e.onClick,m=e.children,d=x(e,F);_(Boolean(r||m),"Should have `component` prop or `children`."),b();var u=c.exports.useContext(k).prefixCls,p=void 0===u?"anticon":u,f=R(p,n),E=R(N({},"".concat(p,"-spin"),!!l)),y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,h=g(g({},w),{},{className:E,style:y,viewBox:a});a||delete h.viewBox;var v=o;return void 0===v&&i&&(v=-1),c.exports.createElement("span",g(g({role:"img"},d),{},{ref:t,tabIndex:v,onClick:i,className:f}),r?c.exports.createElement(r,g({},h),m):m?(_(Boolean(a)||1===c.exports.Children.count(m)&&c.exports.isValidElement(m)&&"use"===c.exports.Children.only(m).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),c.exports.createElement("svg",g(g({},h),{},{viewBox:a}),m)):null)}));H.displayName="AntdIcon";var $=H,q=["type","children"],U=new Set;function Q(e){return Boolean("string"==typeof e&&e.length&&!U.has(e))}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t];if(Q(n)){var r=document.createElement("script");r.setAttribute("src",n),r.setAttribute("data-namespace",n),e.length>t+1&&(r.onload=function(){W(e,t+1)},r.onerror=function(){W(e,t+1)}),U.add(n),document.body.appendChild(r)}}var X="errorBoundary_3AFZg6",Y="errorIcon_ibixCb";class G extends i.PureComponent{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.log(e,t)}render(){return this.state.hasError?i.createElement("div",{className:X},i.createElement(T,{className:Y}),i.createElement("div",null,"加载出错,请刷新页面")):this.props.children}}var J={403:{img:"./assets/403.62d6c08d.svg",title:"403",desc:"抱歉，你无权访问该页面"},404:{img:"./assets/404.f60a3ed3.svg",title:"404",desc:"抱歉，你访问的页面不存在"},500:{img:"./assets/500.cc43d5a3.svg",title:"500",desc:"抱歉，服务器出错了"}};var Z="exception_1XGYBB",ee="imgBlock_2xLrUK",te="imgEle_32oimp",ne="content_3VQX0h",re="desc_3aYJX3",ae="actions_VQxyLy";function le(e){const{type:t}=e,n=J[t in J?t:"404"];return i.createElement("div",{className:Z},i.createElement("div",{className:ee},i.createElement("div",{className:te,style:{backgroundImage:`url(${n.img})`}})),i.createElement("div",{className:ne},i.createElement("h1",null,n.title),i.createElement("div",{className:re},n.desc),i.createElement("div",{className:ae},i.createElement(m,{to:"/"},i.createElement(S,{type:"primary"},"返回首页")))))}const se=P({key:"userInfo",default:{}}),oe=B({key:"userPermissions",get:({get:e})=>e(se).permissions||[]});function ce(e){const{authcode:t="",fallback:n=null,children:r}=e,a=K(oe),l=""===t||a.includes(t);return i.createElement(i.Fragment,null,l?r:n)}const ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,n=e.extraCommonProps,r=void 0===n?{}:n;t&&"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&(Array.isArray(t)?W(t.reverse()):W([t]));var a=c.exports.forwardRef((function(e,t){var n=e.type,a=e.children,l=x(e,q),s=null;return e.type&&(s=c.exports.createElement("use",{xlinkHref:"#".concat(n)})),a&&(s=a),c.exports.createElement($,g(g(g({},r),l),{},{ref:t}),s)}));return a.displayName="Iconfont",a}({scriptUrl:"//at.alicdn.com/t/font_2727509_fa5jm8jxp8v.js"});function me(e){return i.createElement(ie,{type:e.type})}var de="menuList_3k7Dl2";const ue=j.Item,{SubMenu:pe}=j;function fe(e){const s=e,{list:d,openKeys:u=[],selectedKeys:p=[]}=s,f=((e,t)=>{var n={};for(var s in e)a.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&r)for(var s of r(e))t.indexOf(s)<0&&l.call(e,s)&&(n[s]=e[s]);return n})(s,["list","openKeys","selectedKeys"]),E=function(){const e=K(oe);return(t="")=>e.includes(t)}(),[y,h]=c.exports.useState(u),[v,g]=c.exports.useState(p),x=c.exports.useRef({innerOpenKeys:y,innerSelectedKeys:v});x.current={innerOpenKeys:y,innerSelectedKeys:v};return c.exports.useEffect((()=>{const{innerOpenKeys:e,innerSelectedKeys:t}=x.current;u.join(",")===e.join(",")&&p.join(",")===t.join(",")||(h(u),g(p))}),[u,p]),i.createElement(j,(_=o({},f),t(_,n({className:de,openKeys:y,selectedKeys:v,onOpenChange:e=>{h(e)},onSelect:({selectedKeys:e})=>{g(e)}}))),d.filter((e=>E(e.authcode))).map((e=>{const t=e.children||[];return 0===t.length?i.createElement(ue,{key:e.key},i.createElement(m,{title:e.label,to:e.link},e.icon&&i.createElement(me,{type:e.icon}),i.createElement("span",null,e.label))):i.createElement(pe,{key:e.key,title:i.createElement("span",null,e.icon&&i.createElement(me,{type:e.icon}),i.createElement("span",null,e.label))},t.filter((e=>E(e.authcode))).map((e=>i.createElement(ue,{key:e.key},i.createElement(m,{to:e.link},e.label)))))})));var _}function Ee(e){const{list:t}=e,n=c.exports.useMemo((()=>i.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},i.createElement(I,{spinning:!0}))),[]);return i.createElement(c.exports.Suspense,{fallback:n},i.createElement(d,null,t.map(((e,t)=>{if(void 0!==e.redirect)return void 0!==e.path?i.createElement(u,{key:t,from:e.path,exact:!0,to:e.redirect}):i.createElement(u,{key:t,to:e.redirect});{const n=e.component;return i.createElement(p,{key:t,path:e.path,exact:e.exact,render:t=>i.createElement(ce,{authcode:e.authcode,fallback:i.createElement(le,{type:403})},i.createElement(n,o({},t)))})}}))))}const ye={},he=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in ye)return;ye[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e())):e()},ve=c.exports.lazy((()=>he((()=>import("./index.83fa7fd2.js")),["assets/index.83fa7fd2.js","assets/index.6a31b9b5.css","assets/normalize.css.a00f81cc.css","assets/vendor.a5ae8b09.js","assets/antd.ff053a27.js","assets/classnames.ca41f454.js","assets/recoil.3d42e3be.js"]))),ge=c.exports.lazy((()=>he((()=>import("./index.6e8a61af.js")),["assets/index.6e8a61af.js","assets/index.94af7c4f.css","assets/vendor.a5ae8b09.js"]))),xe=[{key:"l1",label:"主菜单111",link:"/l1/testMenu1/testMenu1_1/list",authcode:"l1"},{key:"l2",label:"主菜单222",link:"/l2/xxx/list",authcode:"l2"}],_e=[{path:"/l1",component:ve,authcode:"l1"},{path:"/l2",component:ge,authcode:"l2"},{redirect:"/l1"}];var be="basicLayout_32MWTf",ke="loading_GxzoNE",Ne="header_398AOr",we="header__left_3_uNZz",Se="logo_3ViiOH",je="header__right_l9ydQR",Ie="userName_1xbuLd",Ce="content_bAY9U9";const{Header:Oe}=C;function Me(){const e=f(),t=E(),[n,r]=c.exports.useState(!0),[a,l]=c.exports.useState([]),[s,o]=A(se),m=c.exports.useCallback((()=>{localStorage.clear(),e.push("/login")}),[e]),d=c.exports.useMemo((()=>i.createElement(j,null,i.createElement(j.Item,null,"个人中心"),i.createElement(j.Divider,null),i.createElement(j.Item,{onClick:m},"退出登录"))),[m]);return c.exports.useEffect((()=>{new Promise((e=>{setTimeout((()=>{e({name:"莉莉丝",permissions:["l1","l2","l1_testMenu1","l1_testMenu1_1","l1_testMenu1_2","l1_testMenu3"]})}),1e3)})).then((e=>{o(e)})).finally((()=>{r(!1)}))}),[o]),c.exports.useEffect((()=>{l([t.pathname.split("/")[1]])}),[t]),i.createElement(C,{className:be},n?i.createElement(I,{className:ke,spinning:!0,size:"large",tip:"加载中..."}):i.createElement(c.exports.Fragment,null,i.createElement(Oe,{className:Ne},i.createElement("div",{className:we},i.createElement("div",{className:Se},i.createElement("img",{src:"./assets/logo.32a70972.svg",alt:"logo"}),i.createElement("div",{style:{cursor:"pointer"},onClick:()=>e.push("/")},"xx管理系统")),i.createElement(fe,{theme:"dark",mode:"horizontal",selectedKeys:a,list:xe})),i.createElement("div",{className:je},i.createElement(O,{overlay:d},i.createElement("div",{className:Ie},s.name)))),i.createElement(C,{className:Ce},i.createElement(Ee,{list:_e}))))}var Le="loginPage_3Msf_l",Pe="container_4uEVJ3";function Be(){const e=f(),[t,n]=c.exports.useState(!1);return i.createElement("div",{className:Le},i.createElement("div",{className:Pe},i.createElement("h2",{style:{textAlign:"center"}},"xx管理系统"),i.createElement("br",null),i.createElement(M,{name:"basic",labelCol:{span:6},wrapperCol:{span:16},initialValues:{},onFinish:t=>{n(!0),new Promise((e=>{setTimeout((()=>{e(`token____${Math.random()}`)}),1500)})).then((n=>{console.log("Login Success:",t),function(e){localStorage.setItem("auth_token",e)}(n),e.push("/")})).finally((()=>n(!1)))}},i.createElement(M.Item,{label:"账号",name:"username",rules:[{required:!0,message:"请输入账号"}]},i.createElement(L,{placeholder:"admin"})),i.createElement(M.Item,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},i.createElement(L.Password,{placeholder:"123456"})),i.createElement(M.Item,{wrapperCol:{offset:8,span:16}},i.createElement(S,{type:"primary",htmlType:"submit",loading:t},"登录")))))}function Ke(){const e=!!localStorage.getItem("auth_token");return c.exports.useEffect((()=>{}),[]),i.createElement(z,null,i.createElement(y,null,i.createElement(d,null,i.createElement(p,{path:"/login",exact:!0,component:Be}),i.createElement(p,{render:({location:t})=>e?i.createElement(p,{location:t,component:Me}):i.createElement(u,{to:"/login"})}),i.createElement(p,{render:()=>i.createElement(le,{type:404})}))))}h.render(i.createElement(i.StrictMode,null,i.createElement(G,null,i.createElement(Ke,null))),document.getElementById("root"));export{le as E,fe as M,Ee as R,he as _};
